<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QA Architecture Builder</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>QA Architecture Builder</h1>
    <div>
      <button id="newBoard">New Board</button>
      <button id="exportJson">Export JSON</button>
      <button id="importJsonBtn">Import JSON</button>
      <input id="importJson" type="file" accept="application/json" hidden />
    </div>
  </header>

  <main>
    <aside class="palette" id="palette">
      <h3>Reference Architectures</h3>
      <label>Template Category
        <select id="templateCategory">
          <option value="all">All</option>
          <option value="sprint">Sprint-only</option>
          <option value="full">Full testing</option>
          <option value="hybrid">Hybrid enterprise</option>
        </select>
      </label>
      <select id="referenceTemplate"></select>
      <button id="applyReference">Apply Selected Template</button>
      <button id="exportTemplate">Export Current as Template</button>
      <button id="importExternalTemplateBtn">Import External Template</button>
      <input id="importExternalTemplate" type="file" accept="application/json" hidden />

      <h3>Environment Profiles</h3>
      <select id="environmentProfile">
        <option value="dev">DEV</option>
        <option value="qa" selected>QA</option>
        <option value="uat">UAT</option>
        <option value="staging">STAGING</option>
        <option value="prod">PROD</option>
      </select>

      <h3>Agile Sample Kits</h3>
      <select id="agileTemplate">
        <option value="scrum-sprint">Scrum Sprint QA Template</option>
        <option value="kanban-flow">Kanban Continuous QA Template</option>
        <option value="safe-release-train">SAFe Release Train QA Template</option>
      </select>
      <button id="applyAgileTemplate">Apply Agile Sample</button>

      <h3>Drag Components</h3>
      <div class="item" draggable="true" data-type="Requirements">Requirements</div>
      <div class="item" draggable="true" data-type="Test Strategy">Test Strategy</div>
      <div class="item" draggable="true" data-type="Test Cases">Test Cases</div>
      <div class="item" draggable="true" data-type="Test Data">Test Data</div>
      <div class="item" draggable="true" data-type="API Testing">API Testing</div>
      <div class="item" draggable="true" data-type="UI Testing">UI Testing</div>
      <div class="item" draggable="true" data-type="Performance">Performance</div>
      <div class="item" draggable="true" data-type="Security">Security</div>
      <div class="item" draggable="true" data-type="Accessibility">Accessibility</div>
      <div class="item" draggable="true" data-type="Automation Framework">Automation Framework</div>
      <div class="item" draggable="true" data-type="CI/CD">CI/CD</div>
      <div class="item" draggable="true" data-type="Defect Tracking">Defect Tracking</div>
      <div class="item" draggable="true" data-type="Reporting Dashboard">Reporting Dashboard</div>
      <div class="item" draggable="true" data-type="Release Gate">Release Gate</div>
    </aside>

    <section class="canvas-wrap">
      <div class="toolbar">
        <span>Tip: Drag blocks, click two blocks to connect, double-click block to edit text</span>
        <div>
          <button id="undoBtn">Undo</button>
          <button id="redoBtn">Redo</button>
          <button id="autoLayoutBtn">Auto Layout</button>
          <button id="validateBtn">Validate</button>
        </div>
      </div>
      <div id="canvas" class="canvas"></div>
    </section>

    <aside class="inspector">
      <h3>Architecture Quality Matrix</h3>
      <ul id="qualityMatrix"></ul>

      <h3>Risk Scoring</h3>
      <div id="riskScore" class="risk">0</div>
      <small id="riskLabel">Low risk</small>

      <h3>Auto Test Strategy</h3>
      <button id="generateStrategy">Generate Strategy from Board</button>
      <pre id="strategyOutput">Click generate to build a strategy narrative.</pre>

      <h3>Effort Estimator</h3>
      <pre id="effortOutput">Estimated effort will appear here.</pre>

      <h3>Validation</h3>
      <pre id="validationOutput">Run validation to check architecture quality.</pre>

      <h3>Innovation Lab (What-if Simulator)</h3>
      <label>Team Capacity <input id="simTeam" type="range" min="2" max="30" value="10" /></label>
      <label>Release Frequency / month <input id="simRelease" type="range" min="1" max="20" value="6" /></label>
      <label>Defect Leakage % <input id="simLeakage" type="range" min="1" max="30" value="8" /></label>
      <button id="runSimulation">Run Simulation</button>
      <pre id="simulationOutput">Run simulation to see projected QA health.</pre>

      <h3>AI Testing Copilot</h3>
      <label>Copilot Mode
        <select id="aiMode">
          <option value="risk">Risk Advisor</option>
          <option value="coverage">Coverage Optimizer</option>
          <option value="automation">Automation Planner</option>
          <option value="release">Release Readiness</option>
        </select>
      </label>
      <button id="runAICopilot">Run AI Copilot</button>
      <pre id="aiOutput">Run AI Copilot to get intelligent recommendations.</pre>

      <h3>Blueprint Pack</h3>
      <button id="exportBlueprintPack">Export Full Blueprint Pack</button>
      <pre id="blueprintSummary">Blueprint summary will appear here.</pre>

      <h3>Enterprise v2 Panel</h3>
      <button id="v2LoginBtn">Login as Architect</button>
      <button id="v2SaveBoardBtn">Save Board Snapshot</button>
      <button id="v2LoadDashboardBtn">Load Executive Dashboard</button>
      <button id="v2JiraPushBtn">Jira Push (Mock)</button>
      <button id="v2JiraPullBtn">Jira Pull (Mock)</button>
      <pre id="v2Status">v2 API status not checked yet.</pre>
      <pre id="v2Dashboard">Dashboard metrics will appear here.</pre>
      <pre id="v2Presence">Presence: n/a</pre>

      <h3>Wave3 Enterprise</h3>
      <button id="v3ApplyPatchBtn">Apply Conflict-safe Patch</button>
      <button id="v3ProvisionBtn">SSO Provision Stub</button>
      <button id="v3GovernanceBtn">Run Governance Flow</button>
      <button id="v3PublishTemplateBtn">Publish to Marketplace</button>
      <button id="v3IntegrationBtn">Queue DevOps Sync</button>
      <button id="v3ComplianceBtn">Map OWASP/ISO/SOC2</button>
      <button id="v3PortfolioBtn">Load Portfolio Analytics</button>
      <button id="v3ExportBtn">Generate PDF/PPT Artifacts</button>
      <button id="v3AIDraftBtn">AI Draft from Requirements</button>
      <pre id="v3Output">Wave3 APIs ready.</pre>
    </aside>
  </main>

  <script src="app.js"></script>
</body>
</html>